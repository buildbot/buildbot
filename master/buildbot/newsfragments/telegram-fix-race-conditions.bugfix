Fix multiple race conditions in Telegram reporter that were visible in tests.
