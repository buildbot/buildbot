# developer utilities
pylint:
	pylint --rcfile=../common/pylintrc buildbot
	@test ! -f fail

tutorial:
	cd docs/tutorial; $(MAKE) html
flake8:
	flake8 --config=../common/flake8rc buildbot
	flake8 --config=../common/flake8rc docs/conf.py
rmpyc:
	make -C .. rmpyc

.PHONY: Dockerfile.py3

Dockerfile.py3:
	printf "# generated by 'make -f Makefile Dockerfile.py3', do not edit\n\n" > Dockerfile.py3
	sed -e "s|python-dev|python3-dev|g" \
            -e "s| python | python3 |g" \
            -e "s|py-pip|py3-pip|g" \
            -e "s|pip install|pip3 install|g" \
            -e "s|pip list|pip3 list|g" \
            -e "s|pip wheel|pip3 wheel|g" \
            Dockerfile >> Dockerfile.py3
